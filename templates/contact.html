{% extends "base.html" %}

{% block title %}Contact â€” Joaquin Lopez{% endblock %}

{% block meta_description %}Contact Joaquin Lopez for collaboration opportunities, project inquiries, or academic discussions. Always interested in connecting with fellow students and professionals.{% endblock %}

{% block content %}
<div class="container">
    <h1>Get In Touch</h1>
    <p>I'm always excited to connect with fellow students, potential collaborators, and anyone interested in technology and business strategy. Whether you have a project in mind, want to discuss academic topics, or just want to say hello, I'd love to hear from you!</p>
    
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'error' else 'success' }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <!-- Contact Information -->
    <section class="contact-info" aria-labelledby="contact-info-heading">
        <h2 id="contact-info-heading">Contact Information</h2>
        <ul class="contact-links">
            <li>
                <a href="mailto:lopejo@iu.edu" aria-label="Send email to lopejo@iu.edu">
                    <span class="label">Email:</span> lopejo@iu.edu
                </a>
            </li>
            <li>
                <a href="https://www.linkedin.com/in/joaquinolopez" target="_blank" rel="noopener noreferrer" aria-label="Visit my LinkedIn profile">
                    <span class="label">LinkedIn:</span> linkedin.com/in/joaquinolopez
                </a>
            </li>
            <li>
                <a href="https://github.com/jlopez1137" target="_blank" rel="noopener noreferrer" aria-label="Visit my GitHub profile">
                    <span class="label">GitHub:</span> github.com/jlopez1137
                </a>
            </li>
        </ul>
    </section>

    <!-- Contact Form -->
    <section class="card" aria-labelledby="contact-form-heading">
        <h2 id="contact-form-heading">Send Me a Message</h2>
        <p>Fill out the form below and I'll get back to you as soon as possible. I typically respond within 24 hours.</p>
        
        <form id="contactForm" action="{{ url_for('contact') }}" method="post" novalidate>
            <div class="form-group">
                <label for="firstName">First Name *</label>
                <input type="text" id="firstName" name="firstName" required minlength="1" aria-describedby="firstNameHelp firstNameError" placeholder="e.g., Joaquin">
                <p class="help" id="firstNameHelp">So I know how to address you.</p>
                <p class="error" id="firstNameError" aria-live="polite"></p>
            </div>

            <div class="form-group">
                <label for="lastName">Last Name *</label>
                <input type="text" id="lastName" name="lastName" required minlength="1" aria-describedby="lastNameError" placeholder="e.g., Lopez">
                <p class="error" id="lastNameError" aria-live="polite"></p>
            </div>

            <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" required aria-describedby="emailHelp emailError" placeholder="you@example.com">
                <p class="help" id="emailHelp">I'll only use this to reply.</p>
                <p class="error" id="emailError" aria-live="polite"></p>
            </div>

            <div class="form-group">
                <label for="subject">Subject *</label>
                <input type="text" id="subject" name="subject" required minlength="3" aria-describedby="subjectHelp subjectError" placeholder="What would you like to discuss?">
                <p class="help" id="subjectHelp">A short headline for your message.</p>
                <p class="error" id="subjectError" aria-live="polite"></p>
            </div>

            <div class="form-group">
                <label for="message">Message *</label>
                <textarea id="message" name="message" rows="5" required minlength="10" maxlength="1000" aria-describedby="messageHelp messageCounter messageError" placeholder="Share a bit about your project, timeline, or question..."></textarea>
                <div class="help-row">
                    <p class="help" id="messageHelp">Be as detailed as you'd like. Min 10 characters.</p>
                    <p class="char-counter" id="messageCounter" aria-live="polite">0 / 1000</p>
                </div>
                <p class="error" id="messageError" aria-live="polite"></p>
            </div>

            <div style="margin-top: 2rem;">
                <button type="submit" class="btn">Send Message</button>
            </div>
        </form>
    </section>

    <!-- Response Information -->
    <section class="card" aria-labelledby="response-info-heading">
        <h2 id="response-info-heading">What to Expect</h2>
        <p>I handle all messages personally and aim to respond within 24 hours during business days. For urgent matters, please feel free to reach out via email or LinkedIn. I'm particularly interested in:</p>
        <ul>
            <li>Collaboration opportunities and project partnerships</li>
            <li>Academic discussions and study groups</li>
            <li>Business strategy and technology integration</li>
            <li>Python development and data analysis projects</li>
            <li>General questions about information systems and business technology</li>
        </ul>
    </section>

    <!-- Additional Resources -->
    <section class="card" aria-labelledby="resources-heading">
        <h2 id="resources-heading">Additional Resources</h2>
        <p>Want to learn more about my work and expertise?</p>
        <div style="margin-top: 1.5rem;">
            <a href="{{ url_for('resume') }}" class="btn">View My Resume</a>
            <a href="{{ url_for('projects') }}" class="btn btn-secondary">See My Projects</a>
            <a href="{{ url_for('about') }}" class="btn btn-secondary">Learn About Me</a>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/UserModel.js') }}"></script>
<script src="{{ url_for('static', filename='js/FormView.js') }}"></script>
<script src="{{ url_for('static', filename='js/FormController.js') }}"></script>
<script src="{{ url_for('static', filename='js/FormPresenter.js') }}"></script>
{% endblock %}
